<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Smart phishing URL detection using machine learning." />
  <meta name="author" content="Madhusmita Talukdar" />
  <title>Smart URL Safety Checker</title>

  <!-- Bootstrap (Optional) -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body>
  <div class="wrapper">
    <div class="app-container">
      <h1 class="display-4">Smart URL Safety Checker</h1>
      <p class="lead">Instantly analyze any website and know if it’s safe or suspicious.</p>

      <form action="/" method="post" class="form-block">
        <label for="url" class="form__label">Enter a Website URL</label>
        <input type="text" class="form__input" name="url" id="url" placeholder="https://example.com" required />
        <button class="button" type="submit">Check Now</button>
      </form>

      {% if url %}
      <div class="result-area">
        <h5 class="right mt-3"><a href="{{ url }}" target="_blank">{{ url }}</a></h5>
        <h3 id="prediction"></h3>

        <button class="button1" id="button1" role="button" onclick="window.open('{{url}}')" target="_blank"> Continue</button>
        <button class="button2" id="button2" role="button" onclick="window.open('{{url}}')" target="_blank"> Proceed with Caution</button>
      </div>
      {% endif %}

      <footer>
        <p>Created by <strong>Madhusmita Talukdar</strong> • © 2025</p>
      </footer>
    </div>
  </div>

  <!-- JavaScript for prediction display -->
  <script>
    let x = '{{ xx }}';
    let num = x * 100;
    if (0 <= x && x < 0.50) num = 100 - num;
    let txtx = num.toFixed(2);

    if (x <= 1 && x >= 0.50) {
      document.getElementById("prediction").innerText = " Website is likely safe (" + txtx + "% confidence)";
      document.getElementById("button1").style.display = "block";
    } else if (0 <= x && x < 0.50) {
      document.getElementById("prediction").innerText = " Warning: Website appears risky (" + txtx + "% unsafe)";
      document.getElementById("button2").style.display = "block";
    }
  </script>
</body>
</html>
